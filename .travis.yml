language: cpp

compiler:
  - gcc
  - clang

before_install:
  - echo $LANG
  - echo $LC_ALL
  - echo cmake --version

install:
  # Install latest cmake
  - if [ $TRAVIS_OS_NAME == linux  ]; then
    && sudo apt-get remove cmake
    && wget http://www.cmake.org/files/v3.2/cmake-3.2.1.tar.gz
    && tar -xzf cmake-3.2.1.tar.gz
    && cd cmake-3.2.1
    && ./bootstrap > /dev/null
    && make -j8 > /dev/null
    && sudo make install
    && cd ..
    && rm -rf cmake-3.2.1 cmake-3.2.1.tar.gz; fi
  - if [ $TRAVIS_OS_NAME == osx  ]; then
       brew update
    && brew unlink cmake
    && brew install cmake; fi

script: ./configure -DCMAKE_BUILD_TYPE=debug && make

os:
  - linux
  - osx
